# 时间
***
```
# Java中获取当前时间并格式化
//使用Date
Date d = new Date();
SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
System.out.println("当前时间：" + sdf.format(d));
```

```java
package cn.nssas.eelantech.utils;

import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.Date;

/**
 * 日期相关工具类
 * @author liu wei
 * @date 2019.1.29
 */
public class DateCompute {
    static private class MySingleHandler {
        static private DateCompute instance = new DateCompute();
    }

    static public DateCompute getInstance() {
        return MySingleHandler.instance;
    }

    private DateCompute() {

    }

    /**
     * 时间相差天数计算，日期格式 yyyy-MM-dd HH:mm:ss
     * @param start 开始日期
     * @param end 介绍日期
     * @return 相差天数
     */
    public int dayCompute(String start, String end) {
        SimpleDateFormat sdf = new SimpleDateFormat( "yyyy-MM-dd HH:mm:ss" );
        Date startDate;
        try {
            startDate = sdf.parse(start);
        } catch (ParseException e) {
            e.printStackTrace();
            return -1;
        }
        Date endDate;
        try {
            endDate = sdf.parse(end);
        } catch (ParseException e) {
            e.printStackTrace();
            return -1;
        }
        return (int)((endDate.getTime() - startDate.getTime()) / 1000 / 60 / 60 / 24);
    }

    /**
     * 时间相差毫秒计算
     * @param start 开始日期
     * @param end 结束日期
     * @return 相差的毫秒数
     */
    public long millisecondCompute(String start, String end) {
        SimpleDateFormat sdf = new SimpleDateFormat( "yyyy-MM-dd HH:mm:ss" );
        Date startDate;
        try {
            startDate = sdf.parse(start);
        } catch (ParseException e) {
            e.printStackTrace();
            return -1;
        }
        Date endDate;
        try {
            endDate = sdf.parse(end);
        } catch (ParseException e) {
            e.printStackTrace();
            return -1;
        }
        return endDate.getTime() - startDate.getTime();
    }

    /**
     * 获取日期的天数加减结果
     * @param originDate
     * @param day
     * @return
     */
    public String[] getBeforeAfterDate(String originDate, int day) {
        SimpleDateFormat dateFormat = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss");
        if(originDate == null) {
            Date current = new Date();
            originDate = dateFormat.format(current);
        }

        try {
            Date date = dateFormat.parse(originDate);
            String newDate = dateFormat.format(new Date(date.getTime() - (long)day * 24 * 60 * 60 * 1000));
            System.out.println(String.format("%s --------- %s", originDate, newDate));
            return new String[]{originDate, newDate};
        } catch (ParseException e) {
            e.printStackTrace();
            return new String[]{"日期转换错误", "日期转换错误"};
        }
    }
}
```

### 日期加减
```java
//根据现在时间计算
Calendar now = Calendar.getInstance(); 
now.add(Calendar.YEAR, 1); //现在时间的1年后
now.add(Calendar.YEAR, -1); //现在时间的1年前
//根据某个特定的时间 date (Date 型) 计算
Calendar specialDate = Calendar.getInstance();
specialDate.setTime(date); //注意在此处将 specialDate 的值改为特定日期
specialDate.add(Calendar.YEAR, 1); //特定时间的1年后
specialDate.add(Calendar.YEAR, -1); //特定时间的1年前
```

## 参考链接
- [Java 实例 - 时间戳转换成时间](http://www.runoob.com/java/date-timestamp2date.html)
- [JAVA字符串转日期或日期转字符串](https://blog.csdn.net/cwcwj3069/article/details/52164559)
- [Java中两个时间点的相隔天数和相差天数解析](https://blog.csdn.net/qq_30051139/article/details/55270862)
- [Java对日期Date类进行加减运算，年份加减，月份加减](https://my.oschina.net/u/195267/blog/355171)
- [java中获取当前日期和时间的方法](https://www.jianshu.com/p/f6bd187b7627)
- [java获取时间、获取日期](https://blog.csdn.net/qy1387/article/details/7887696)
- [Java计算某日期多少天前后的日期！和Calendar类中的常用字段和方法！](https://blog.csdn.net/u013456370/article/details/45132373)
- [聊聊 Java 中日期的几种常见操作 —— 取值、转换、加减、比较](https://www.cnblogs.com/honoka/p/4972442.html)
- [java时间戳与Date相互转换、日期格式化、给日期加上指定时长、判断两时间点是否为同一天](https://blog.csdn.net/fanrenxiang/article/details/80531649)